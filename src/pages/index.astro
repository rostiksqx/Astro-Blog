---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/PostCard.astro';

const posts = await getCollection('posts');
---

<Layout title="Keystatic & Astro's Content Collections">
  <div>
    <h1 class="text-3xl font-bold m-4">Keystatic ‚ö°Ô∏è + Astro üöÄ</h1>
    <p class="mb-4">
      This homepage shows how to load data from Astro's content collections.
    </p>
    <p class="mb-4">
      <a href="/keystatic">Click here to visit the Admin UI</a>, or the link
      below to view a post in the collection.
    </p>
    <h2 class="text-2xl font-bold m-4">Posts</h2>
    <ul class="list-none text-blue-600 hover:text-blue-300 ml-5 transition-color ease-in-out duration-300">      
    <section class="grid grid-cols-1 sm:grid-cols-2 w-full md:grid-cols-3 gap-6 p-4 md:p-6">
      {
        posts.map(post => (
          // <li>
          //   <a href={`/posts/${post.slug}`}>{post.data.title}</a>
          // </li>
          <PostCard post={post} />
        ))
      }
    </section>
    </ul>
  </div>
</Layout>
